!function(l){var e={init:function(){l('.ur-input-type-select2 .ur-field[data-field-key="select2"] select, .ur-input-type-multi-select2 .ur-field[data-field-key="multi_select2"] select').selectWoo(),l(document).on("click",".ur-selected-item",function(){e.initEventSelect2()})},initEventSelect2:function(){var e=l(".ur-general-setting-field");l.each(e,function(){var e=l(this);switch(e.attr("data-field")){case"default_value":e.on("change",function(){l(this).closest(".ur-general-setting-block").hasClass("ur-general-setting-select2")&&i(l(this)),l(this).closest(".ur-general-setting-block").hasClass("ur-general-setting-multi_select2")&&a(l(this))});break;case"options":e.on("keyup",function(){l(this).closest(".ur-general-setting-block").hasClass("ur-general-setting-select2")&&l(this).siblings('input[data-field="default_value"]').is(":checked")&&i(l(this)),l(this).closest(".ur-general-setting-block").hasClass("ur-general-setting-multi_select2")&&l(this).siblings('input[data-field="default_value"]').is(":checked")&&a(l(this))});break;case"header_attribute":e.on("change",function(){!function a(e){var t=l(".ur-selected-item.ur-item-active"),n=l.trim(e.val()),i=t.find(".ur-general-setting-label input").val();t.find(".ur-general-setting-select-header select option").prop("selected",!1),t.find('.ur-general-setting-select-header select option[value="'+n+'"]').attr("selected","selected"),t.find(".ur-label").html("<"+n+">"+i+"</"+n+">")}(l(this))});break;case"phone_format":"smart"===e.closest(".ur-general-setting-block").find('select[data-field="phone_format"]').val()?e.closest(".ur-general-setting-block").find(".ur-general-setting-input-mask").hide():e.closest(".ur-general-setting-block").find(".ur-general-setting-input-mask").show(),e.on("change",function(){!function s(e){var t=l(".ur-selected-item.ur-item-active"),n=e.closest("#ur-setting-form").find("[data-field='field_name']").val(),i=t.find("[data-field='field_name']").val();if(n===i){var a=e.val().trim();"smart"===a?l(".ur-general-setting-input-mask").hide():l(".ur-general-setting-input-mask").show(),t.find(".ur-general-setting-select-format select option").prop("selected",!1),t.find('.ur-general-setting-select-format select option[value="'+a+'"]').prop("selected",!0)}}(l(this))});break;case"label":e.on("keyup",function(){!function a(e){var t=l(".ur-selected-item.ur-item-active"),n=l.trim(e.val()),i=t.find(".ur-general-setting-select-header select").val();t.find(".ur-label").html("<"+i+">"+n+"</"+i+">")}(l(this))});break;case"input_mask":n(this),e.on("input",function(){n(this)})}});var t=l(".ur_advance_setting");l.each(t,function(){var t=l(this);switch(t.attr("data-advance-field")){case"enable_prefix_postfix":s(t),t.on("change",function(){!function e(){l(".ur-selected-item.ur-item-active").find("span.ur-range-slider-label").toggle()}(),s(l(this)),r(t)});break;case"enable_text_prefix_postfix":s(t),r(t),t.on("change",function(){s(l(this)),r(l(this))});break;case"range_min":r(t),t.on("change",function(){r(l(this));var e=l(this).closest(".ur-advance-setting-block").find('input[data-advance-field="range_max"]'),t=parseInt(l(this).val(),10);""===e.val()&&e.val(t+1).trigger("change"),e.attr("min",t+1)});break;case"range_max":r(t),t.on("change",function(){r(l(this));var e=parseInt(l(this).val(),10),t=parseInt(l(this).closest(".ur-advance-setting-block").find('input[data-advance-field="range_min"]').val(),10);(""===l(this).val()||e<t)&&l(this).val(t+1)});break;case"range_prefix":case"range_postfix":t.on("keyup",function(){r(l(this))})}})}};function n(e){var t=l(e).val(),n=!1;try{l(e).clone().inputmask(t)}catch(i){n=!0}l(e).siblings(".input-mask-error-message").remove(),n&&l(e).after('<label style="color: red" class="input-mask-error-message">Your input mask is not valid! If you save as it is, it will not work in the frontend.</label>')}function i(e){var t=l.trim(e.val()),n=l(".ur-selected-item.ur-item-active"),i=e.closest("li").index(),a=n.find(".ur-field").find("select");a.html(""),a.append("<option value='"+t+"'>"+t+"</option>"),n.find(".ur-general-setting-options > ul.ur-options-list > li").each(function(e,t){var n=l(t).find('[data-field="default_value"]');e===i?n.prop("checked",!0):n.prop("checked",!1)})}function a(e){var t=l(".ur-selected-item.ur-item-active"),n=e.closest("li").index(),i=t.find(".ur-field").find("select"),a=e.closest("ul").find("li");i.html(""),l.each(a,function(){var e=l(this).find('input[data-field="default_value"]');e.is(":checked")&&i.append("<option value='"+e.val()+"' selected>"+e.val()+"</option>")}),e.is(":checked")?t.find(".ur-general-setting-options li:nth("+n+') input[data-field="default_value"]').prop("checked",!0):t.find(".ur-general-setting-options li:nth("+n+') input[data-field="default_value"]').prop("checked",!1)}function s(e){"true"===e.closest(".ur-advance-setting-block").find(".ur-settings-enable-prefix-postfix :selected").val()?(e.closest(".ur-advance-setting-block").find(".ur-advance-enable_text_prefix_postfix").show(),"true"===e.closest(".ur-advance-setting-block").find(".ur-settings-enable-text-prefix-postfix :selected").val()?e.closest(".ur-advance-setting-block").find(".ur-advance-range_prefix, .ur-advance-range_postfix").show():e.closest(".ur-advance-setting-block").find(".ur-advance-range_prefix, .ur-advance-range_postfix").hide()):(e.closest(".ur-advance-setting-block").find(".ur-advance-enable_text_prefix_postfix").hide(),e.closest(".ur-advance-setting-block").find(".ur-advance-range_prefix, .ur-advance-range_postfix").hide())}function r(e){var t=l(".ur-selected-item.ur-item-active"),n="",i="";e.closest("#ur-setting-form").find("[data-field='field_name']").val()===t.find("[data-field='field_name']").val()&&("true"===e.closest(".ur-advance-setting-block").find(".ur-settings-enable-prefix-postfix :selected").val()&&(i="true"===e.closest(".ur-advance-setting-block").find(".ur-settings-enable-text-prefix-postfix :selected").val()?(n=e.closest(".ur-advance-setting-block").find('input[data-advance-field="range_prefix"]').val(),e.closest(".ur-advance-setting-block").find('input[data-advance-field="range_postfix"]').val()):(n=""!==e.closest(".ur-advance-setting-block").find('input[data-advance-field="range_min"]').val()?e.closest(".ur-advance-setting-block").find('input[data-advance-field="range_min"]').val():"0",""!==e.closest(".ur-advance-setting-block").find('input[data-advance-field="range_max"]').val()?e.closest(".ur-advance-setting-block").find('input[data-advance-field="range_max"]').val():"10"),t.find(".ur-settings-enable-text-prefix-postfix").val(e.closest(".ur-advance-setting-block").find(".ur-settings-enable-text-prefix-postfix :selected").val())),t.find(".ur-settings-enable-prefix-postfix").val(e.closest(".ur-advance-setting-block").find(".ur-settings-enable-prefix-postfix :selected").val())),n&&t.find("span.ur-range-slider-prefix").text(n),i&&t.find("span.ur-range-slider-postfix").text(i)}l(document).ready(function(){e.init()})}(jQuery);