"use strict";!function(n){n(document).ready(function(){user_registration_extras_frontend_data.has_create_user_capability&&user_registration_extras_frontend_data.is_user_logged_in?n(document).find(".user-registration-modal-link").show():!user_registration_extras_frontend_data.has_create_user_capability&&user_registration_extras_frontend_data.is_user_logged_in&&n(document).find(".user-registration-modal-link").hide()}),n(document).on("hover",".user-registration-modal-link",function(e){n(".user-registration-modal-link").css("cursor","pointer")}),n(document).on("click",".user-registration-modal-link",function(e){e.preventDefault();n.map(n(this)[0].classList,function(e,t){if(0===e.indexOf("user-registration-modal-link-")){var r=e.replace("user-registration-modal-link-","");n(".user-registration-modal-"+r).each(function(){0===n(this).parents(".entry-content").length&&n(this).show()}),n(document.body).addClass("user-registration-modal-open")}})}),n(".ur-frontend-form.login").on("submit",function(){if(n(this).closest(".user-registration-modal").length)n.map(n(this).closest(".user-registration-modal")[0].classList,function(e,t){if(0===e.indexOf("user-registration-modal-")){var r=e.replace("user-registration-modal-",""),o={};o.popup_id=r,n(".user-registration-modal-"+r).closest(".entry-content").length?o.inner_popup=!0:o.inner_popup=!1,localStorage.setItem("ur_extras_popup",JSON.stringify(o))}});else localStorage.removeItem("ur_extras_popup")}),n(".user-registration-modal").ready(function(){n(".entry-content").find(".user-registration-modal").length&&n(document.body).addClass("user-registration-modal-open");var e=JSON.parse(localStorage.getItem("ur_extras_popup"));if(e&&e.popup_id){var t=e.popup_id,r=n(".user-registration-modal-"+t);n(".entry-content").find(".ur-frontend-form.login").length?n(".entry-content").find(".ur-frontend-form.login").each(function(){n(this).closest("body").find(".entry-content .user-registration-error").length&&(!0===e.inner_popup?n(this).closest("body").find(".entry-content").find(".user-registration-error").prependTo(r.find(".user-registration")):n(this).closest(".user-registration").find(".user-registration-error").prependTo(r.find(".user-registration")),n(this).closest("body").find(".user-registration-modal").hide(),r.show())}):n(".user-registration-modal").find(".ur-frontend-form.login").each(function(){n(this).siblings(".user-registration-error").length&&n(this).closest(".user-registration").find(".user-registration-error").prependTo(r.find(".user-registration")),n(this).closest("body").find(".user-registration-modal").hide(),r.show()}),localStorage.removeItem("ur_extras_popup"),n(document.body).addClass("user-registration-modal-open")}}),n(document).on("click",".user-registration-modal__close-icon, .user-registration-modal__backdrop",function(){n(this).closest(".user-registration-modal").css({display:"none",opacity:"1"}),n(document.body).removeClass("user-registration-modal-open")});var o=user_registration_extras_frontend_data.delete_account_option;"undefined"!==o&&"disable"!==o&&n(document).on("click",".user-registration-MyAccount-navigation-link--delete-account",function(){var e='<span class="user-registration-swal2-modal__title">'+user_registration_extras_frontend_data.delete_account_popup_title;return swal.fire({title:e,html:user_registration_extras_frontend_data.delete_account_popup_html,confirmButtonText:user_registration_extras_frontend_data.delete_account_button_text,confirmButtonColor:"#FF4149",showConfirmButton:!0,showCancelButton:!0,cancelButtonText:user_registration_extras_frontend_data.cancel_button_text,customClass:{container:"user-registration-swal2-container"},focusConfirm:!1,showLoaderOnConfirm:!0,preConfirm:function(){return new Promise(function(e){var t="";if("prompt_password"===o){var r=Swal.getPopup().querySelector("#password").value;r?t={action:"user_registration_extras_delete_account",password:r}:(Swal.showValidationMessage(user_registration_extras_frontend_data.please_enter_password),n(".swal2-actions").removeClass("swal2-loading"),n(".swal2-actions").find("button").prop("disabled",!1))}else t={action:"user_registration_extras_delete_account"};""!==t&&n.ajax({url:user_registration_extras_frontend_data.ajax_url,method:"POST",data:t}).done(function(e){e.success?Swal.fire({type:"success",title:user_registration_extras_frontend_data.account_deleted_message,customClass:"user-registration-swal2-modal user-registration-swal2-modal--center",showConfirmButton:!1,timer:1e3}).then(function(e){window.location.reload()}):(Swal.showValidationMessage(e.data.message),n(".swal2-actions").removeClass("swal2-loading"),n(".swal2-actions").find("button").prop("disabled",!1))})})}}),!1})}(jQuery);