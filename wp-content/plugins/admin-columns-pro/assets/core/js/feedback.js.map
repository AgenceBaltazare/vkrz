{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../admin-columns/src/js/modules/modal.js","webpack:///../admin-columns/src/js/modules/modals.js","webpack:///./core/js/feedback.ts"],"names":["Modal","constructor","el","dialog","querySelector","initEvents","initGlobalEvents","jQuery","document","on","e","preventDefault","target","dataset","acOpenModal","AC_MODAL","open","modal_key","data","Modals","init","get","self","addEventListener","keyName","event","key","isOpen","close","dismissButtons","querySelectorAll","length","forEach","b","classList","contains","ac_modal_init","onClose","remove","setTimeout","onOpen","removeAttribute","add","destroy","modals","number","register","modal","AdminColumns","_abstract","Feedback","form","$form","submit","find","_sendData","done","response","success","html","ajax","url","ajaxurl","method","action","email","val","feedback","_ajax_nonce","getElementById"],"mappings":"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","file":"feedback.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./core/js/feedback.ts\");\n","import Modals from './modals'\n\nexport default class Modal {\n\tconstructor( el ) {\n\t\tif ( !el ) {\n\t\t\treturn;\n\t\t}\n\t\tthis.el = el;\n\t\tthis.dialog = el.querySelector( '.ac-modal__dialog' );\n\n\t\tthis.initEvents();\n\t}\n\n\tstatic initGlobalEvents() {\n\n\t\tjQuery( document ).on( 'click', '[data-ac-open-modal]', function( e ) {\n\t\t\te.preventDefault();\n\t\t\tlet target = e.target.dataset.acOpenModal;\n\t\t\tlet el = document.querySelector( target );\n\n\t\t\tif ( el && el.AC_MODAL ) {\n\t\t\t\tel.AC_MODAL.open();\n\t\t\t}\n\t\t} );\n\n\t\tjQuery( document ).on( 'click', '[data-ac-modal]', function( e ) {\n\t\t\te.preventDefault();\n\t\t\tlet modal_key = jQuery( this ).data( 'ac-modal' );\n\n\t\t\tif ( Modals.init().get( modal_key ) ) {\n\t\t\t\tModals.init().get( modal_key ).open();\n\t\t\t}\n\t\t} );\n\n\t}\n\n\tinitEvents() {\n\t\tlet self = this;\n\n\t\tdocument.addEventListener( 'keydown', ( e ) => {\n\t\t\tconst keyName = event.key;\n\n\t\t\tif ( !this.isOpen() ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( 'Escape' === keyName ) {\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t} );\n\n\t\tlet dismissButtons = this.el.querySelectorAll( '[data-dismiss=\"modal\"], .ac-modal__dialog__close' );\n\t\tif ( dismissButtons.length > 0 ) {\n\t\t\tdismissButtons.forEach( ( b ) => {\n\t\t\t\tb.addEventListener( 'click', ( e ) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.close();\n\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\n\t\tthis.el.addEventListener( 'click', ( e ) => {\n\t\t\tif ( e.target.classList.contains( 'ac-modal' ) ) {\n\t\t\t\tself.close();\n\t\t\t}\n\t\t} );\n\n\t\tif ( typeof document.querySelector( 'body' ).dataset.ac_modal_init === 'undefined' ) {\n\t\t\tModal.initGlobalEvents();\n\t\t\tdocument.querySelector( 'body' ).dataset.ac_modal_init = 1;\n\t\t}\n\n\t\tthis.el.AC_MODAL = self;\n\t}\n\n\tisOpen() {\n\t\treturn this.el.classList.contains( '-active' );\n\t}\n\n\tclose() {\n\t\tthis.onClose();\n\t\tthis.el.classList.remove( '-active' );\n\t}\n\n\topen() {\n\t\t//short delay in order to allow bubbling events to bind before opening\n\t\tsetTimeout( () => {\n\t\t\tthis.onOpen();\n\t\t\tthis.el.removeAttribute( 'style' );\n\t\t\tthis.el.classList.add( '-active' );\n\t\t} );\n\t}\n\n\tdestroy() {\n\t\tthis.el.remove();\n\t}\n\n\tonClose() {}\n\n\tonOpen() {}\n\n}","import Modal from './modal';\n\nexport default class Modals {\n\n\tconstructor() {\n\t\tthis.modals = [];\n\t\tthis.number = 1;\n\t}\n\n\tregister( modal, key = '' ) {\n\t\tif ( !key ) {\n\t\t\tkey = 'm' + this.number;\n\t\t}\n\n\t\tthis.modals[ key ] = modal;\n\t\tthis.number++;\n\n\t\treturn modal;\n\t}\n\n\tget( key ) {\n\t\tif ( this.modals[ key ] ) {\n\t\t\treturn this.modals[ key ];\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Bind self to global AdminColumns if exist\n\tstatic init() {\n\t\tif ( typeof AdminColumns.Modals === 'undefined' ) {\n\t\t\tAdminColumns.Modals = new this();\n\t\t\tAdminColumns.Modals._abstract = {\n\t\t\t\tmodal : Modal\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn AdminColumns.Modals;\n\t}\n\n}","import Modals from \"../../../admin-columns/src/js/modules/modals\";\nimport Modal from \"../../../admin-columns/src/js/modules/modal\";\n\ndeclare let jQuery: any;\ndeclare let ajaxurl: string;\n\nclass Feedback {\n\n    form: HTMLFormElement\n\n    constructor(form: HTMLFormElement) {\n        this.form = form;\n        this.initEvents();\n    }\n\n    initEvents() {\n        let self = this;\n        let $form = jQuery(this.form)\n\n        $form.submit((e: Event) => {\n            e.preventDefault();\n        });\n\n        $form.find('[name=frm_ac_fb_submit]').on('click', function () {\n            self._sendData().done((response: any) => {\n                if (response.success) {\n                    $form.find('.ac-modal__dialog__footer').remove();\n                    $form.find('.ac-modal__dialog__content').html(response.data);\n                } else {\n                    $form.find('.ac-feedback__error').html(response.data)\n                }\n            });\n        });\n    }\n\n    _sendData() {\n        let $form = jQuery(this.form)\n\n        return jQuery.ajax({\n            url: ajaxurl,\n            method: 'post',\n            data: {\n                action: 'acp-send-feedback',\n                email: $form.find('[name=name]').val(),\n                feedback: $form.find('[name=feedback]').val(),\n                _ajax_nonce: $form.find('[name=_ajax_nonce]').val()\n            }\n        });\n    }\n\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    Modals.init().register(new Modal(document.getElementById('ac-modal-feedback')), 'feedback');\n\n    new Feedback(document.querySelector<HTMLFormElement>('#frm-ac-feedback'));\n});"],"sourceRoot":""}